<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div layout:fragment="content">

    <div sec:authorize="isAuthenticated()">
        <form id="logoutForm" method="POST" th:action="@{/logout}">
            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
        </form>

        <div sec:authorize="hasRole('ROLE_PERSONAL')">
            <nav class="navbar navbar-expand-sm navbar-light bg-primary border-bottom">
                <a class="navbar-brand ml-2 font-weight-bold" style="color: white;">
                    <img src="/images/nix-logo.png" width="80" height="40" alt="">
                    <a style="color: white; font-weight: bold; font-size: 27px;">COMPUTERS</a>
                </a>
                <div class="collapse navbar-collapse justify-content-end" id="navbarColor">
                    <ul class="navbar-nav">

                        <li class="nav-item">
                            <a class="nav-link" style="color: white; padding-right: 0px;" th:href="@{'/cart/' + ${userId}}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" color="white" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                </svg>
                            </a>
                        </li>

                        <li class="nav-item" style="padding-left: 0px;">
                            <a class="nav-link" style="color: red; font-weight: bold; margin-top: 8px; padding-left: 0px;" th:text="${cardCounter}"></a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" style="color: white;" sec:authentication="name"></a>
                        </li>
                        <li class="nav-item" style="margin-top: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" color="white" fill="currentColor" class="bi bi-person-bounding-box" viewBox="0 0 16 16">
                                <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z"/>
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                            </svg>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" style="color: white; cursor: pointer;" onclick="document.forms['logoutForm'].submit()">LOGOUT</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>

    <section layout:fragment="open_content"></section>

</div>


</div>
</body>
</html>